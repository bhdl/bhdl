{
  "id": "CPaRTBikEWRP",
  "content": "\"(begin-for-syntax\\n  (define-syntax-class\\n    wirevalue\\n    (pattern (fun arg ... #:wire wirepin ...)\\n             #:with v #'(fun arg ...)\\n             #:with nature (range 1 (+ 1 (length (syntax-e #'(wirepin ...))))))\\n    ; (pattern v\\n    ;          #:with wirepins #'())\\n    ))\\n\\n(define-syntax (make-circuit stx)\\n  (syntax-parse\\n    stx\\n    #:datum-literals (pin part wire layout)\\n    [(_ (~alt (~optional (pin ext-pin ...) \\n                         #:defaults ([(ext-pin 1) null]))\\n              (~optional (part [dvl dvr:wirevalue] ...)\\n                         ;  #:defaults ([(dv 1) null])\\n                         )\\n              (~optional (wire w ...)\\n                         #:defaults ([(w 1) null]))\\n              (~optional (layout l) #:defaults ([l #'#f]))) ...)\\n     #`(make-circuit0 \\n         #:external-pins (ext-pin ...)\\n         #:vars ([dvl dvr.v] ...)\\n         #:tmp (list dvr.nature ...)\\n         #:connect (list w ... \\n                         (bus (self [dvr.wirepin ...])\\n                              ; (dvl [1 2])\\n                              (dvl dvr.nature)\\n                              )\\n                         ...\\n                         \\n                         )\\n                   #:layout l\\n                   )\\n       ]))\"",
  "column": 1,
  "fold": false,
  "thundar": false,
  "utility": false,
  "name": "",
  "lang": "racket",
  "type": "CODE",
  "imports": "{}",
  "exports": "{\"make-circuit\":true}",
  "midports": "{}",
  "repoId": "102c7cad-cc6a-4ac2-b30c-d5e168c069bf",
  "parent": "CPQU4nPmdVqN",
  "children": []
}